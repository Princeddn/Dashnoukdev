(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,74091,e=>{"use strict";var t=e.i(43476),s=e.i(10204);function r({id:e,label:r,checked:a,onChange:i,description:l}){return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(s.Label,{htmlFor:e,className:"cursor-pointer",children:r}),l&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:l})]}),(0,t.jsx)("button",{id:e,role:"switch","aria-checked":a,onClick:()=>i(!a),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background ${a?"bg-apple-blue":"bg-gray-300"}`,children:(0,t.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a?"translate-x-6":"translate-x-1"}`})})]})}e.s(["ToggleSwitch",()=>r])},88511,e=>{"use strict";let t=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],88511)},43504,56909,e=>{"use strict";var t=e.i(43476),s=e.i(10204),r=e.i(93479);function a({label:e,id:a,type:i="text",value:l,onChange:n,placeholder:d,required:o=!1,helpText:c,error:u}){return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(s.Label,{htmlFor:a,children:[e,o&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsx)(r.Input,{id:a,type:i,value:l,onChange:e=>n(e.target.value),placeholder:d,required:o,className:u?"border-red-500":""}),c&&!u&&(0,t.jsx)("p",{className:"text-sm text-gray-500",children:c}),u&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:u})]})}function i({label:e,id:r,value:a,onChange:i,placeholder:l,required:n=!1,rows:d=4,helpText:o,error:c}){return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(s.Label,{htmlFor:r,children:[e,n&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsx)("textarea",{id:r,value:a,onChange:e=>i(e.target.value),placeholder:l,required:n,rows:d,className:`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${c?"border-red-500":""}`}),o&&!c&&(0,t.jsx)("p",{className:"text-sm text-gray-500",children:o}),c&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:c})]})}function l({label:e,id:r,value:a,onChange:i,options:l,required:n=!1,helpText:d,error:o}){return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(s.Label,{htmlFor:r,children:[e,n&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsx)("select",{id:r,value:a,onChange:e=>i(e.target.value),required:n,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${o?"border-red-500":""}`,children:l.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))}),d&&!o&&(0,t.jsx)("p",{className:"text-sm text-gray-500",children:d}),o&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:o})]})}e.s(["FormField",()=>a,"SelectField",()=>l,"TextAreaField",()=>i],43504);let n=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>n],56909)},15288,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(75157);let a=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));a.displayName="Card";let i=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let l=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let n=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",e),...s}));n.displayName="CardDescription";let d=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent";let o=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s}));o.displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>d,"CardDescription",()=>n,"CardFooter",()=>o,"CardHeader",()=>i,"CardTitle",()=>l])},19455,25913,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(7670);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=r.clsx,l=(e,t)=>s=>{var r;if((null==t?void 0:t.variants)==null)return i(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:l,defaultVariants:n}=t,d=Object.keys(l).map(e=>{let t=null==s?void 0:s[e],r=null==n?void 0:n[e];if(null===t)return null;let i=a(t)||a(r);return l[e][i]}),o=s&&Object.entries(s).reduce((e,t)=>{let[s,r]=t;return void 0===r||(e[s]=r),e},{});return i(e,d,null==t||null==(r=t.compoundVariants)?void 0:r.reduce((e,t)=>{let{class:s,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...n,...o}[t]):({...n,...o})[t]===s})?[...e,s,r]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)};e.s(["cva",0,l],25913);var n=e.i(75157);let d=l("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef(({className:e,variant:s,size:r,...a},i)=>(0,t.jsx)("button",{className:(0,n.cn)(d({variant:s,size:r,className:e})),ref:i,...a}));o.displayName="Button",e.s(["Button",()=>o],19455)},10204,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(75157);let a=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("label",{ref:a,className:(0,r.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...s}));a.displayName="Label",e.s(["Label",()=>a])},93479,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(75157);let a=s.forwardRef(({className:e,type:s,...a},i)=>(0,t.jsx)("input",{type:s,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...a}));a.displayName="Input",e.s(["Input",()=>a])},73978,e=>{"use strict";var t=e.i(43476),s=e.i(15288);function r({title:e,description:r,children:a,action:i}){return(0,t.jsxs)(s.Card,{className:"shadow-sm",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(s.CardTitle,{children:e}),r&&(0,t.jsx)(s.CardDescription,{className:"mt-1",children:r})]}),i&&(0,t.jsx)("div",{children:i})]})}),(0,t.jsx)(s.CardContent,{children:a})]})}function a({title:e,value:r,icon:a,trend:i}){return(0,t.jsx)(s.Card,{children:(0,t.jsx)(s.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r}),i&&(0,t.jsxs)("p",{className:`text-sm mt-2 ${i.isPositive?"text-green-600":"text-red-600"}`,children:[i.isPositive?"+":"",i.value,"% ",i.label]})]}),a&&(0,t.jsx)("div",{className:"p-3 bg-gradient-to-br from-apple-blue/10 to-apple-purple/10 rounded-xl",children:a})]})})})}e.s(["SectionCard",()=>r,"StatCard",()=>a])},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},14683,e=>{"use strict";let t=(0,e.i(75254).default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Circle",()=>t],14683)},53583,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(7471),a=e.i(73978),i=e.i(43504),l=e.i(19455),n=e.i(74091),d=e.i(27612),o=e.i(88511),c=e.i(56909),u=e.i(37727);let x=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var m=e.i(14683);function p(){let[e,p]=(0,s.useState)([]),[f,g]=(0,s.useState)(!0),[h,b]=(0,s.useState)(null),[v,j]=(0,s.useState)({title:"",description:"",category:"Professional",status:"not_started",priority:"medium",target_date:null,is_visible:!0,order_index:0});async function y(){try{let{data:e,error:t}=await r.supabase.from("goals").select("*").order("order_index");if(t)throw t;p(e||[])}catch(e){console.error("Error fetching goals:",e)}finally{g(!1)}}async function N(t){t.preventDefault();try{if(h){let{error:e}=await r.supabase.from("goals").update(v).eq("id",h);if(e)throw e}else{let{error:t}=await r.supabase.from("goals").insert({...v,order_index:e.length});if(t)throw t}j({title:"",description:"",category:"Professional",status:"not_started",priority:"medium",target_date:null,is_visible:!0,order_index:0}),b(null),y()}catch(e){console.error("Error saving goal:",e),alert("Erreur lors de la sauvegarde")}}async function w(e){if(confirm("Supprimer cet objectif ?"))try{let{error:t}=await r.supabase.from("goals").delete().eq("id",e);if(t)throw t;y()}catch(e){console.error("Error deleting goal:",e),alert("Erreur lors de la suppression")}}async function C(e,t){try{let{error:s}=await r.supabase.from("goals").update({is_visible:!t}).eq("id",e);if(s)throw s;y()}catch(e){console.error("Error toggling visibility:",e)}}(0,s.useEffect)(()=>{y()},[]);let _={not_started:e.filter(e=>"not_started"===e.status).length,in_progress:e.filter(e=>"in_progress"===e.status).length,completed:e.filter(e=>"completed"===e.status).length};return f?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement..."})]})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Objectifs"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Définissez et suivez vos objectifs professionnels"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)(a.StatCard,{title:"Non démarrés",value:_.not_started,icon:(0,t.jsx)(m.Circle,{className:"w-6 h-6 text-gray-400"})}),(0,t.jsx)(a.StatCard,{title:"En cours",value:_.in_progress,icon:(0,t.jsx)(m.Circle,{className:"w-6 h-6 text-apple-orange fill-current"})}),(0,t.jsx)(a.StatCard,{title:"Terminés",value:_.completed,icon:(0,t.jsx)(x,{className:"w-6 h-6 text-green-600"})})]}),(0,t.jsx)(a.SectionCard,{title:h?"Modifier l'objectif":"Ajouter un objectif",description:"Remplissez les informations",children:(0,t.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,t.jsx)(i.FormField,{label:"Titre",id:"title",value:v.title||"",onChange:e=>j({...v,title:e}),placeholder:"Maîtriser React et Next.js",required:!0}),(0,t.jsx)(i.TextAreaField,{label:"Description",id:"description",value:v.description||"",onChange:e=>j({...v,description:e}),placeholder:"Détails de l'objectif...",rows:3}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)(i.SelectField,{label:"Catégorie",id:"category",value:v.category||"Professional",onChange:e=>j({...v,category:e}),options:[{value:"Professional",label:"Professionnel"},{value:"Learning",label:"Apprentissage"},{value:"Personal",label:"Personnel"},{value:"Project",label:"Projet"}],required:!0}),(0,t.jsx)(i.SelectField,{label:"Statut",id:"status",value:v.status||"not_started",onChange:e=>j({...v,status:e}),options:[{value:"not_started",label:"Non démarré"},{value:"in_progress",label:"En cours"},{value:"completed",label:"Terminé"}],required:!0}),(0,t.jsx)(i.SelectField,{label:"Priorité",id:"priority",value:v.priority||"medium",onChange:e=>j({...v,priority:e}),options:[{value:"low",label:"Basse"},{value:"medium",label:"Moyenne"},{value:"high",label:"Haute"}],required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(i.FormField,{label:"Date cible (optionnel)",id:"target_date",type:"date",value:v.target_date||"",onChange:e=>j({...v,target_date:e||null})}),(0,t.jsx)("div",{className:"flex items-center h-full pt-6",children:(0,t.jsx)(n.ToggleSwitch,{id:"is_visible",label:"Visible sur le site",checked:v.is_visible||!1,onChange:e=>j({...v,is_visible:e})})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(l.Button,{type:"submit",children:[(0,t.jsx)(c.Save,{className:"w-4 h-4 mr-2"}),h?"Mettre à jour":"Ajouter"]}),h&&(0,t.jsxs)(l.Button,{type:"button",variant:"outline",onClick:function(){j({title:"",description:"",category:"Professional",status:"not_started",priority:"medium",target_date:null,is_visible:!0,order_index:0}),b(null)},children:[(0,t.jsx)(u.X,{className:"w-4 h-4 mr-2"}),"Annuler"]})]})]})}),(0,t.jsx)(a.SectionCard,{title:"Tous les objectifs",description:`${e.length} objectif(s) au total`,children:(0,t.jsx)("div",{className:"space-y-3",children:0===e.length?(0,t.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Aucun objectif. Ajoutez-en un ci-dessus."}):e.map(e=>(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,t.jsx)("div",{className:"mt-1",children:(e=>{switch(e){case"completed":return(0,t.jsx)(x,{className:"w-5 h-5 text-green-600"});case"in_progress":return(0,t.jsx)(m.Circle,{className:"w-5 h-5 text-apple-orange fill-current"});default:return(0,t.jsx)(m.Circle,{className:"w-5 h-5 text-gray-400"})}})(e.status)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>{j(e),b(e.id)},children:(0,t.jsx)(o.Edit,{className:"w-4 h-4"})}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>w(e.id),children:(0,t.jsx)(d.Trash2,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${(e=>{switch(e){case"high":return"bg-red-100 text-red-700";case"medium":return"bg-apple-orange/10 text-apple-orange";default:return"bg-gray-100 text-gray-700"}})(e.priority)}`,children:"high"===e.priority?"Haute":"medium"===e.priority?"Moyenne":"Basse"}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs bg-apple-blue/10 text-apple-blue rounded-full",children:e.category}),e.target_date&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["Cible: ",new Date(e.target_date).toLocaleDateString("fr-FR")]}),(0,t.jsx)("button",{onClick:()=>C(e.id,e.is_visible),className:`text-xs px-2 py-1 rounded-full ${e.is_visible?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:e.is_visible?"Visible":"Masqué"})]})]})]},e.id))})})]})}e.s(["default",()=>p],53583)}]);