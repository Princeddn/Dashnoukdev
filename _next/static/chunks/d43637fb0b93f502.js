(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(75157);let a=t.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));a.displayName="Card";let i=t.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let n=t.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle";let l=t.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("text-sm text-muted-foreground",e),...t}));l.displayName="CardDescription";let d=t.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent";let o=t.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("flex items-center p-6 pt-0",e),...t}));o.displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>d,"CardDescription",()=>l,"CardFooter",()=>o,"CardHeader",()=>i,"CardTitle",()=>n])},19455,25913,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(7670);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=s.clsx,n=(e,r)=>t=>{var s;if((null==r?void 0:r.variants)==null)return i(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:n,defaultVariants:l}=r,d=Object.keys(n).map(e=>{let r=null==t?void 0:t[e],s=null==l?void 0:l[e];if(null===r)return null;let i=a(r)||a(s);return n[e][i]}),o=t&&Object.entries(t).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return i(e,d,null==r||null==(s=r.compoundVariants)?void 0:s.reduce((e,r)=>{let{class:t,className:s,...a}=r;return Object.entries(a).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...l,...o}[r]):({...l,...o})[r]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)};e.s(["cva",0,n],25913);var l=e.i(75157);let d=n("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=t.forwardRef(({className:e,variant:t,size:s,...a},i)=>(0,r.jsx)("button",{className:(0,l.cn)(d({variant:t,size:s,className:e})),ref:i,...a}));o.displayName="Button",e.s(["Button",()=>o],19455)},93479,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(75157);let a=t.forwardRef(({className:e,type:t,...a},i)=>(0,r.jsx)("input",{type:t,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...a}));a.displayName="Input",e.s(["Input",()=>a])},10204,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(75157);let a=t.forwardRef(({className:e,...t},a)=>(0,r.jsx)("label",{ref:a,className:(0,s.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));a.displayName="Label",e.s(["Label",()=>a])},27612,e=>{"use strict";let r=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>r],27612)},88511,e=>{"use strict";let r=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>r],88511)},87486,e=>{"use strict";var r=e.i(43476),t=e.i(25913),s=e.i(75157);let a=(0,t.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,...i}){return(0,r.jsx)("div",{className:(0,s.cn)(a({variant:t}),e),...i})}e.s(["Badge",()=>i])},7233,e=>{"use strict";let r=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],7233)},42836,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(22141),a=e.i(86909),i=e.i(7471),n=e.i(19455),l=e.i(15288),d=e.i(93479),o=e.i(10204),c=e.i(87486),u=e.i(92270),p=e.i(7233),m=e.i(88511),x=e.i(27612),h=e.i(18566);function f(){return(0,r.jsx)(s.AdminProtected,{children:(0,r.jsx)(v,{})})}function v(){let e=(0,h.useRouter)(),[s,f]=(0,t.useState)([]),[v,g]=(0,t.useState)(!0),[b,j]=(0,t.useState)(!1),[y,N]=(0,t.useState)(null),[w,C]=(0,t.useState)({name:"",type:"web",status:"idea",description:"",stack:"",github_url:"",app_url:""});async function k(){try{let{data:e}=await i.supabase.from("projects").select("*").is("deleted_at",null).order("created_at",{ascending:!1});e&&f(e)}catch(e){console.error("Error fetching projects:",e)}finally{g(!1)}}async function _(){try{await (0,a.signOut)(),e.push("/admin/login")}catch(e){console.error("Logout error:",e)}}async function B(e){e.preventDefault();let r={name:w.name,type:w.type,status:w.status,description:w.description,stack:w.stack.split(",").map(e=>e.trim()).filter(Boolean),github_url:w.github_url||null,app_url:w.app_url||null};try{y?await i.supabase.from("projects").update(r).eq("id",y.id):await i.supabase.from("projects").insert([r]),C({name:"",type:"web",status:"idea",description:"",stack:"",github_url:"",app_url:""}),j(!1),N(null),k()}catch(e){console.error("Error saving project:",e),alert("Erreur lors de la sauvegarde")}}async function R(e){if(confirm("Êtes-vous sûr de vouloir supprimer ce projet ?"))try{await i.supabase.from("projects").update({deleted_at:new Date().toISOString()}).eq("id",e),k()}catch(e){console.error("Error deleting project:",e),alert("Erreur lors de la suppression")}}return((0,t.useEffect)(()=>{k()},[]),v)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent"}),(0,r.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Chargement..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white border-b",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Admin - Nouk Prince HQ"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Gérez votre contenu"})]}),(0,r.jsxs)(n.Button,{variant:"outline",onClick:_,className:"gap-2",children:[(0,r.jsx)(u.LogOut,{className:"w-4 h-4"}),"Déconnexion"]})]})}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold",children:["Projets (",s.length,")"]}),(0,r.jsxs)(n.Button,{onClick:()=>j(!b),className:"gap-2",children:[(0,r.jsx)(p.Plus,{className:"w-4 h-4"}),b?"Annuler":"Nouveau projet"]})]}),b&&(0,r.jsxs)(l.Card,{className:"mb-6",children:[(0,r.jsx)(l.CardHeader,{children:(0,r.jsx)(l.CardTitle,{children:y?"Modifier le projet":"Nouveau projet"})}),(0,r.jsx)(l.CardContent,{children:(0,r.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"name",children:"Nom du projet *"}),(0,r.jsx)(d.Input,{id:"name",value:w.name,onChange:e=>C({...w,name:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"type",children:"Type *"}),(0,r.jsxs)("select",{id:"type",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:w.type,onChange:e=>C({...w,type:e.target.value}),required:!0,children:[(0,r.jsx)("option",{value:"web",children:"Web"}),(0,r.jsx)("option",{value:"mobile",children:"Mobile"}),(0,r.jsx)("option",{value:"software",children:"Software"}),(0,r.jsx)("option",{value:"automation",children:"Automation"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"status",children:"Statut *"}),(0,r.jsxs)("select",{id:"status",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:w.status,onChange:e=>C({...w,status:e.target.value}),required:!0,children:[(0,r.jsx)("option",{value:"idea",children:"Idée"}),(0,r.jsx)("option",{value:"building",children:"En construction"}),(0,r.jsx)("option",{value:"mvp",children:"MVP"}),(0,r.jsx)("option",{value:"production",children:"Production"}),(0,r.jsx)("option",{value:"paused",children:"Pause"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"stack",children:"Stack (séparé par des virgules) *"}),(0,r.jsx)(d.Input,{id:"stack",placeholder:"Next.js, TypeScript, Supabase",value:w.stack,onChange:e=>C({...w,stack:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"github_url",children:"URL GitHub"}),(0,r.jsx)(d.Input,{id:"github_url",type:"url",placeholder:"https://github.com/...",value:w.github_url,onChange:e=>C({...w,github_url:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"app_url",children:"URL App"}),(0,r.jsx)(d.Input,{id:"app_url",type:"url",placeholder:"https://...",value:w.app_url,onChange:e=>C({...w,app_url:e.target.value})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"description",children:"Description *"}),(0,r.jsx)("textarea",{id:"description",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:w.description,onChange:e=>C({...w,description:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(n.Button,{type:"submit",className:"flex-1",children:y?"Mettre à jour":"Créer"}),y&&(0,r.jsx)(n.Button,{type:"button",variant:"outline",onClick:function(){N(null),C({name:"",type:"web",status:"idea",description:"",stack:"",github_url:"",app_url:""}),j(!1)},children:"Annuler"})]})]})})]}),(0,r.jsxs)("div",{className:"grid gap-4",children:[s.map(e=>(0,r.jsx)(l.Card,{children:(0,r.jsx)(l.CardContent,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:e.name}),(0,r.jsx)(c.Badge,{variant:"secondary",children:e.type}),(0,r.jsx)(c.Badge,{children:e.status})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:e.stack.map((e,t)=>(0,r.jsx)(c.Badge,{variant:"outline",className:"text-xs",children:e},t))})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(n.Button,{variant:"outline",size:"sm",onClick:()=>{N(e),C({name:e.name,type:e.type,status:e.status,description:e.description,stack:e.stack.join(", "),github_url:e.github_url||"",app_url:e.app_url||""}),j(!0)},children:(0,r.jsx)(m.Edit,{className:"w-4 h-4"})}),(0,r.jsx)(n.Button,{variant:"destructive",size:"sm",onClick:()=>R(e.id),children:(0,r.jsx)(x.Trash2,{className:"w-4 h-4"})})]})]})})},e.id)),0===s.length&&(0,r.jsx)(l.Card,{children:(0,r.jsx)(l.CardContent,{className:"p-12 text-center",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Aucun projet. Créez-en un !"})})})]})]})]})}e.s(["default",()=>f])}]);