(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43504,56909,e=>{"use strict";var r=e.i(43476),s=e.i(10204),a=e.i(93479);function t({label:e,id:t,type:l="text",value:i,onChange:o,placeholder:n,required:d=!1,helpText:c,error:u}){return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(s.Label,{htmlFor:t,children:[e,d&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsx)(a.Input,{id:t,type:l,value:i,onChange:e=>o(e.target.value),placeholder:n,required:d,className:u?"border-red-500":""}),c&&!u&&(0,r.jsx)("p",{className:"text-sm text-gray-500",children:c}),u&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:u})]})}function l({label:e,id:a,value:t,onChange:l,placeholder:i,required:o=!1,rows:n=4,helpText:d,error:c}){return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(s.Label,{htmlFor:a,children:[e,o&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsx)("textarea",{id:a,value:t,onChange:e=>l(e.target.value),placeholder:i,required:o,rows:n,className:`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${c?"border-red-500":""}`}),d&&!c&&(0,r.jsx)("p",{className:"text-sm text-gray-500",children:d}),c&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:c})]})}function i({label:e,id:a,value:t,onChange:l,options:i,required:o=!1,helpText:n,error:d}){return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(s.Label,{htmlFor:a,children:[e,o&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsx)("select",{id:a,value:t,onChange:e=>l(e.target.value),required:o,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${d?"border-red-500":""}`,children:i.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))}),n&&!d&&(0,r.jsx)("p",{className:"text-sm text-gray-500",children:n}),d&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:d})]})}e.s(["FormField",()=>t,"SelectField",()=>i,"TextAreaField",()=>l],43504);let o=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>o],56909)},15288,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(75157);let t=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));t.displayName="Card";let l=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let i=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));i.displayName="CardTitle";let o=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",e),...s}));o.displayName="CardDescription";let n=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",e),...s}));n.displayName="CardContent";let d=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",e),...s}));d.displayName="CardFooter",e.s(["Card",()=>t,"CardContent",()=>n,"CardDescription",()=>o,"CardFooter",()=>d,"CardHeader",()=>l,"CardTitle",()=>i])},19455,25913,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(7670);let t=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=a.clsx,i=(e,r)=>s=>{var a;if((null==r?void 0:r.variants)==null)return l(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:i,defaultVariants:o}=r,n=Object.keys(i).map(e=>{let r=null==s?void 0:s[e],a=null==o?void 0:o[e];if(null===r)return null;let l=t(r)||t(a);return i[e][l]}),d=s&&Object.entries(s).reduce((e,r)=>{let[s,a]=r;return void 0===a||(e[s]=a),e},{});return l(e,n,null==r||null==(a=r.compoundVariants)?void 0:a.reduce((e,r)=>{let{class:s,className:a,...t}=r;return Object.entries(t).every(e=>{let[r,s]=e;return Array.isArray(s)?s.includes({...o,...d}[r]):({...o,...d})[r]===s})?[...e,s,a]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)};e.s(["cva",0,i],25913);var o=e.i(75157);let n=i("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef(({className:e,variant:s,size:a,...t},l)=>(0,r.jsx)("button",{className:(0,o.cn)(n({variant:s,size:a,className:e})),ref:l,...t}));d.displayName="Button",e.s(["Button",()=>d],19455)},10204,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(75157);let t=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("label",{ref:t,className:(0,a.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...s}));t.displayName="Label",e.s(["Label",()=>t])},93479,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(75157);let t=s.forwardRef(({className:e,type:s,...t},l)=>(0,r.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...t}));t.displayName="Input",e.s(["Input",()=>t])},73978,e=>{"use strict";var r=e.i(43476),s=e.i(15288);function a({title:e,description:a,children:t,action:l}){return(0,r.jsxs)(s.Card,{className:"shadow-sm",children:[(0,r.jsx)(s.CardHeader,{children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(s.CardTitle,{children:e}),a&&(0,r.jsx)(s.CardDescription,{className:"mt-1",children:a})]}),l&&(0,r.jsx)("div",{children:l})]})}),(0,r.jsx)(s.CardContent,{children:t})]})}function t({title:e,value:a,icon:t,trend:l}){return(0,r.jsx)(s.Card,{children:(0,r.jsx)(s.CardContent,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:a}),l&&(0,r.jsxs)("p",{className:`text-sm mt-2 ${l.isPositive?"text-green-600":"text-red-600"}`,children:[l.isPositive?"+":"",l.value,"% ",l.label]})]}),t&&(0,r.jsx)("div",{className:"p-3 bg-gradient-to-br from-apple-blue/10 to-apple-purple/10 rounded-xl",children:t})]})})})}e.s(["SectionCard",()=>a,"StatCard",()=>t])},74091,e=>{"use strict";var r=e.i(43476),s=e.i(10204);function a({id:e,label:a,checked:t,onChange:l,description:i}){return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)(s.Label,{htmlFor:e,className:"cursor-pointer",children:a}),i&&(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:i})]}),(0,r.jsx)("button",{id:e,role:"switch","aria-checked":t,onClick:()=>l(!t),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background ${t?"bg-apple-blue":"bg-gray-300"}`,children:(0,r.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t?"translate-x-6":"translate-x-1"}`})})]})}e.s(["ToggleSwitch",()=>a])},86536,e=>{"use strict";let r=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>r],86536)},61230,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(7471),t=e.i(73978),l=e.i(43504),i=e.i(74091),o=e.i(19455),n=e.i(56909),d=e.i(86536);function c(){let[e,c]=(0,s.useState)([]),[u,m]=(0,s.useState)({primary_color:"#007AFF",secondary_color:"#5E5CE6",accent_color:"#FF9500",background_color:"#FFFFFF",text_color:"#000000",dark_mode_enabled:!1}),[x,p]=(0,s.useState)(!0),[h,g]=(0,s.useState)(!1);async function f(){try{let{data:e,error:r}=await a.supabase.from("section_config").select("*").order("order_index");r&&console.error("Error fetching sections:",r),e&&c(e);let{data:s,error:t}=await a.supabase.from("site_settings").select("*").eq("category","theme");if(t&&console.error("Error fetching theme:",t),s&&s.length>0){let e={};s.forEach(r=>{e[r.key]=r.value}),m({...u,...e})}}catch(e){console.error("Error fetching appearance settings:",e)}finally{p(!1)}}async function b(){g(!0);try{for(let[e,r]of Object.entries(u))await a.supabase.from("site_settings").upsert({key:e,value:r,category:"theme",type:"boolean"==typeof r?"boolean":"text",description:`Theme ${e}`},{onConflict:"key"});alert("Thème mis à jour !")}catch(e){console.error("Error saving theme:",e),alert("Erreur lors de la sauvegarde")}finally{g(!1)}}async function v(){g(!0);try{for(let r of e)await a.supabase.from("section_config").update({is_visible:r.is_visible,display_title:r.display_title}).eq("id",r.id);alert("Sections mises à jour !")}catch(e){console.error("Error saving sections:",e),alert("Erreur lors de la sauvegarde")}finally{g(!1)}}return((0,s.useEffect)(()=>{f()},[]),x)?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement..."})]})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Apparence"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Personnalisez le thème et la visibilité des sections"})]}),(0,r.jsx)(t.SectionCard,{title:"Thème",description:"Couleurs et style du site",action:(0,r.jsxs)(o.Button,{onClick:b,disabled:h,children:[(0,r.jsx)(n.Save,{className:"w-4 h-4 mr-2"}),"Enregistrer"]}),children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Couleur primaire"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"color",value:u.primary_color,onChange:e=>m({...u,primary_color:e.target.value}),className:"h-10 w-20 rounded border border-gray-300 cursor-pointer"}),(0,r.jsx)(l.FormField,{label:"",id:"primary_color",value:u.primary_color,onChange:e=>m({...u,primary_color:e}),placeholder:"#007AFF"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Couleur secondaire"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"color",value:u.secondary_color,onChange:e=>m({...u,secondary_color:e.target.value}),className:"h-10 w-20 rounded border border-gray-300 cursor-pointer"}),(0,r.jsx)(l.FormField,{label:"",id:"secondary_color",value:u.secondary_color,onChange:e=>m({...u,secondary_color:e}),placeholder:"#5E5CE6"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Couleur accent"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"color",value:u.accent_color,onChange:e=>m({...u,accent_color:e.target.value}),className:"h-10 w-20 rounded border border-gray-300 cursor-pointer"}),(0,r.jsx)(l.FormField,{label:"",id:"accent_color",value:u.accent_color,onChange:e=>m({...u,accent_color:e}),placeholder:"#FF9500"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Couleur de fond"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"color",value:u.background_color,onChange:e=>m({...u,background_color:e.target.value}),className:"h-10 w-20 rounded border border-gray-300 cursor-pointer"}),(0,r.jsx)(l.FormField,{label:"",id:"background_color",value:u.background_color,onChange:e=>m({...u,background_color:e}),placeholder:"#FFFFFF"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Couleur du texte"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"color",value:u.text_color,onChange:e=>m({...u,text_color:e.target.value}),className:"h-10 w-20 rounded border border-gray-300 cursor-pointer"}),(0,r.jsx)(l.FormField,{label:"",id:"text_color",value:u.text_color,onChange:e=>m({...u,text_color:e}),placeholder:"#000000"})]})]})]}),(0,r.jsx)(i.ToggleSwitch,{id:"dark_mode",label:"Mode sombre (expérimental)",checked:u.dark_mode_enabled,onChange:e=>m({...u,dark_mode_enabled:e}),description:"Activer le mode sombre pour tout le site"}),(0,r.jsxs)("div",{className:"mt-6 p-6 rounded-lg border-2 border-gray-200",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Aperçu des couleurs"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg shadow-sm border border-gray-200",style:{backgroundColor:u.primary_color}}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Primaire"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg shadow-sm border border-gray-200",style:{backgroundColor:u.secondary_color}}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Secondaire"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg shadow-sm border border-gray-200",style:{backgroundColor:u.accent_color}}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Accent"})]})]})]})]})}),(0,r.jsx)(t.SectionCard,{title:"Visibilité des sections",description:"Choisissez les sections à afficher sur votre site",action:(0,r.jsxs)(o.Button,{onClick:v,disabled:h,children:[(0,r.jsx)(n.Save,{className:"w-4 h-4 mr-2"}),"Enregistrer"]}),children:(0,r.jsxs)("div",{className:"space-y-3",children:[e.map(s=>(0,r.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3",children:[(0,r.jsx)(i.ToggleSwitch,{id:`section-${s.id}`,label:s.section_name,checked:s.is_visible,onChange:()=>{var r;return r=s.id,void c(e.map(e=>e.id===r?{...e,is_visible:!e.is_visible}:e))},description:s.is_visible?"Cette section est visible":"Cette section est masquée"}),(0,r.jsx)(l.FormField,{label:"Titre affiché",id:`title-${s.id}`,value:s.display_title,onChange:r=>{var a;return a=s.id,void c(e.map(e=>e.id===a?{...e,display_title:r}:e))},placeholder:s.section_name})]},s.id)),0===e.length&&(0,r.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Aucune section configurée. Les sections seront créées automatiquement."})]})}),(0,r.jsx)(t.SectionCard,{title:"Note importante",description:"Informations sur l'aperçu",children:(0,r.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-lg",children:[(0,r.jsx)(d.Eye,{className:"w-5 h-5 text-apple-blue flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900",children:"Aperçu des modifications"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Les modifications de thème et de visibilité des sections prendront effet immédiatement après la sauvegarde. Actualisez la page d'accueil pour voir les changements."})]})]})})]})}e.s(["default",()=>c])}]);